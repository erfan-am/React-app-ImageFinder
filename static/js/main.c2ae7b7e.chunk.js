(this.webpackJsonpreduxx=this.webpackJsonpreduxx||[]).push([[0],{135:function(e,t,a){e.exports={loader:"_1k6PiDqkhOIQ4_zwsQdUmG",load4:"_3UGwWJFx_xyN75Y1k6oQbr",s:"_74nk7K_5NKSiDBae87O9f"}},141:function(e,t,a){e.exports=a(314)},146:function(e,t,a){},314:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(17),l=a.n(o),c=(a(146),a(12)),i=a(13),s=a(15),u=a(14),m=a(16),p=a(130),h=a.n(p),g=(n.Component,a(46)),d=a(61),b=a.n(d),f=a(84),E=a.n(f),v=a(131),O=a.n(v),y=a(47),S=a.n(y),j=a(85),k=a(52),x=a.n(k),T=a(132),I=a.n(T),w=a(133),C=a.n(w),N=a(134),A=a.n(N),U=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={open:!1,currentImage:""},a.handleClose=function(){a.setState({open:!1})},a.handleOpen=function(e){a.setState({open:!0,currentImage:e})},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e,t=this,a=this.props.images;e=a?r.a.createElement(j.GridList,{cols:3},a.map((function(e){return r.a.createElement(j.GridTile,{title:e.tags,key:e.id,subtitle:r.a.createElement("span",null,"by ",r.a.createElement("strong",null,e.user)),actionIcon:r.a.createElement(x.a,{onClick:function(){return t.handleOpen(e.largeImageURL)}},r.a.createElement(I.a,{color:"white"}))},r.a.createElement("img",{src:e.largeImageURL,alt:""}))}))):null;var n=[r.a.createElement(A.a,{label:"Close",primary:!0,onclick:this.handleClose})];return r.a.createElement("div",null,e,r.a.createElement(C.a,{actions:n,modal:!1,onRequestClose:this.handleClose,open:this.state.open},r.a.createElement("img",{src:this.state.currentImage,alt:"",style:{width:"100%"}})))}}]),t}(n.Component),_=a(86),D=a.n(_),L=a(135),H=a.n(L),R=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:H.a.loader}))}}]),t}(n.Component),P=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={searchText:"",amount:"",apiUrl:"https://pixabay.com/api",apiKey:"15964246-6e12f4806408e77b18735e313",images:[],loading:!1,error:!1},a.onChangeText=function(e){var t=e.target.value;a.setState(Object(g.a)({},e.target.name,t),(function(){""===t?a.setState({images:[]}):(a.setState({loading:!0}),b.a.get("".concat(a.state.apiUrl,"/?key=").concat(a.state.apiKey,"&q=").concat(a.state.searchText,"&image_type=photo&per_page=").concat(a.state.amount,"&safesearch=true")).then((function(e){return a.setState({images:e.data.hits,loading:!1})})).catch((function(e){return a.setState({error:!0,loading:!1})})))}))},a.onAmountChange=function(e,t,n){return a.setState({amount:n})},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e={padding:"10px 20px",background:this.state.error?" rgb(366, 84, 84)":"rgb(0, 188, 212)",textAlign:"center",fontSize:"1rem",color:"white",width:"60%",margin:"100px 20px",borderRadius:"5px"};return r.a.createElement("div",null,r.a.createElement(E.a,{name:"searchText",value:this.state.searchText,onChange:this.onChangeText,floatingLabelText:"Search For Images",fullWidth:!0}),r.a.createElement("br",null),r.a.createElement(O.a,{name:"amount",floatingLabelText:"amount",value:this.state.amount,onChange:this.onAmountChange},r.a.createElement(S.a,{value:10,primaryText:"10"}),r.a.createElement(S.a,{value:20,primaryText:"20"}),r.a.createElement(S.a,{value:30,primaryText:"30"}),r.a.createElement(S.a,{value:50,primaryText:"50"}),r.a.createElement(S.a,{value:100,primaryText:"100"})),r.a.createElement("hr",null),this.state.loading?r.a.createElement(R,null):this.state.images.length>0?r.a.createElement(U,{images:this.state.images}):this.state.error?r.a.createElement(D.a,{style:e},"Some thing is wrong"):r.a.createElement(D.a,{style:e},"PLEASE ENTER YOUR TARGET"))}}]),t}(n.Component),Y=a(136),G=a.n(Y),B=a(32),M=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(G.a,null,r.a.createElement("div",null,r.a.createElement(P,null)))}}]),t}(n.Component),K=Object(B.f)(M),F=a(23),z=a(24),W=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("nav",{className:"navbar navbar-expand-sm navbar-dark bg-dark mb-4"},r.a.createElement("div",{className:"container"},r.a.createElement(F.b,{className:"navbar-brand",to:"/"},"PhotoSearch"),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNav"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarNav"},r.a.createElement("ul",{className:"navbar-nav ml-auto"},r.a.createElement("li",{className:"nav-item"},this.props.token?r.a.createElement(F.b,{className:"nav-link ",exact:!0,to:"/"},"Search"):null),r.a.createElement("li",{className:"nav-item"},this.props.token?r.a.createElement(F.b,{className:"nav-link",exact:!0,to:"/logout"},"Logout"):r.a.createElement(F.b,{className:"nav-link",exact:!0,to:"/auth"},"Auth"))))))}}]),t}(n.Component),q=Object(z.b)((function(e){return{token:e.auth.token}}),null)(W),J=function(e,t){return{type:"AUTH_SUCCESS",idToken:e,userId:t}},Q=function(){return localStorage.removeItem("token"),localStorage.removeItem("expirationDate"),localStorage.removeItem("userId"),{type:"AUTH_LOGOUT"}},V=function(e){return function(t){setTimeout((function(){t(Q())}),1e3*e)}},X=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",password:"",isSignup:!0},a.onChange=function(e){console.log(a.state),a.setState(Object(g.a)({},e.target.name,e.target.value))},a.onSubmitHan=function(e){e.preventDefault(),a.props.onAuth(a.state.email,a.state.password,a.state.isSignup),a.setState({email:"",password:""})},a.switchAuthModeHandler=function(){a.setState((function(e){return{isSignup:!e.isSignup}}))},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=null;this.props.error&&(e=r.a.createElement("p",{className:"bg-danger p-2 text-white text-center font-weight-bold"},this.props.error.message));var t=r.a.createElement("form",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"exampleInputEmail1"},"E_Mail address"),r.a.createElement("input",{onChange:this.onChange,value:this.state.email,className:"form-control",type:"email",name:"email"}),r.a.createElement("small",{id:"emailHelp",class:"form-text text-muted"},"We'll never share your email with anyone else.")),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"exampleInputEmail1"},"E_Mail Password"),r.a.createElement("input",{onChange:this.onChange,value:this.state.password,className:"form-control",type:"password",name:"password"}),r.a.createElement("small",{className:"text-muted form-text"},"Yor Password Should be Six Digete")),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{onClick:this.onSubmitHan,className:"form-control bg-dark text-white",type:"submit",name:"submit"},"Please")));return this.props.loading&&(t=r.a.createElement(R,null)),r.a.createElement("div",{className:"col-md-7 m-auto border p-5 mt-5 bg-light"},t,r.a.createElement("button",{onClick:this.switchAuthModeHandler,className:"form-control bg-primary text-white",type:"submit",name:"submit"},this.state.isSignup?"SignUp ":"SIGNIN"),r.a.createElement("small",{className:"text-muted form-text"},"Click Button To Change SignUp to SignIn"),r.a.createElement("br",null),e)}}]),t}(n.Component),Z=Object(B.f)(Object(z.b)((function(e){return{loading:e.auth.loading,error:e.auth.error}}),(function(e){return{onAuth:function(t,a,n){return e(function(e,t,a){return function(n){n({type:"AUTH_START"});var r={email:e,password:t,returnSecureToken:!0},o="https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyCir2ywU9EBBYDZPhcK9D8LYDUHiRTaVEY";a||(o="https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyCir2ywU9EBBYDZPhcK9D8LYDUHiRTaVEY"),b.a.post(o,r).then((function(e){console.log(e);var t=new Date((new Date).getTime()+1e3*e.data.expiresIn);localStorage.setItem("token",e.data.idToken),localStorage.setItem("expirationDate",t),localStorage.setItem("userId",e.data.localId),n(J(e.data.idToken,e.data.localId)),n(V(e.data.expiresIn))})).catch((function(e){console.log(e),n(function(e){return{type:"AUTH_FAIL",error:e}}(e.response.data.error))}))}}(t,a,n))}}}))(X)),$=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.onLogout()}},{key:"render",value:function(){return r.a.createElement(B.a,{to:"/auth"})}}]),t}(n.Component),ee=Object(z.b)(null,(function(e){return{onLogout:function(){return e(Q())}}}))($),te=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.onTryAutoSignup()}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(q,null),r.a.createElement("div",{className:"container"},r.a.createElement(B.b,{path:"/logout",component:ee}),this.props.token?r.a.createElement(B.b,{path:"/",exact:!0,component:K}):r.a.createElement(B.a,{to:"/auth"}),this.props.token?r.a.createElement(B.a,{to:"/"}):r.a.createElement(B.b,{path:"/auth",component:Z})))}}]),t}(n.Component),ae=Object(B.f)(Object(z.b)((function(e){return{token:e.auth.token}}),(function(e){return{onTryAutoSignup:function(){return e((function(e){var t=localStorage.getItem("token");if(t){var a=new Date(localStorage.getItem("expirationDate"));a<=new Date&&e(Q());var n=localStorage.getItem("userId");e(J(t,n)),e(V((a.getTime()-(new Date).getTime())/1e3))}else e(Q())}))}}}))(te)),ne=a(35),re=a(139),oe=a(140),le=function(e,t){return Object(oe.a)({},e,{},t)},ce={token:null,userId:null,error:null,loading:!1},ie=function(e,t){return le(e,{error:null,loading:!0})},se=function(e,t){return le(e,{error:null,token:t.idToken,loading:!1,userId:t.userId})},ue=function(e,t){return le(e,{error:t.error,loading:!1})},me=function(e,t){return le(e,{token:null,userId:null})},pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTH_START":return ie(e);case"AUTH_SUCCESS":return se(e,t);case"AUTH_FAIL":return ue(e,t);case"AUTH_LOGOUT":return me(e);default:return e}},he=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||ne.d,ge=Object(ne.c)({auth:pe}),de=Object(ne.e)(ge,he(Object(ne.a)(re.a))),be=r.a.createElement(F.a,null,r.a.createElement(ae,null));l.a.render(r.a.createElement(z.a,{store:de},be),document.getElementById("root"))}},[[141,1,2]]]);
//# sourceMappingURL=main.c2ae7b7e.chunk.js.map